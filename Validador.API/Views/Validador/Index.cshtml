@model Validador.API.Models.ValidadorModel;

<main>
    <div class="container-xl px-4 mt-5">
        <div class="card mb-4 border-0">
            <div class="card-body">
                <div class="justify-content-center">
                    <div class="text-center">
                        <h5>Validar documentos NFS-e</h5>
                        <p class="mb-4">
                            Cole seu XML e selecione o modelo/padrão para validar.
                        </p>
                    </div>
                </div>
                <form class="form mb-4" enctype="multipart/form-data" asp-action="Index" method="post">
                    <div class="mb-3">
                        <label>Modelo/padrão NFS-e</label>
                        <select class="form-control" asp-items="Model.CollectionList" asp-for="SelectedCollection"></select>
                    </div>

                    <div class="mb-3">
                        <label>XML</label>
                        <textarea class="form-control" rows="6" asp-for="XmlText" required></textarea>
                    </div>
                    <div class="mb-3 text-center">
                        <button class="btn btn-primary rounded-pill"
                                type="submit">
                            Validar schema
                        </button>
                    </div>
                </form>
            </div>
        </div>

        @if (Model.MessageList.Count > 0)
        {
            <div class="card mb-4 border-0">
                <div class="card-body">
                    <div class="justify-content-center mb-4">
                        <div class="text-center">
                            <h5 class="mb-3">Resultado da validação</h5>
                            <div class="mb-3">
                                @{
                                    var alertCss = "alert ";
                                    if (Model.IsValid)
                                    {
                                        alertCss += "alert-success";
                                    }
                                    else
                                    {
                                        alertCss += "alert-warning";
                                    }
                                }
                                <div class="@alertCss" role="alert">
                                    @foreach (var message in Model.MessageList)
                                    {
                                        <div>@Html.DisplayFor(modelItem => message)</div>
                                    }
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        }
    </div>
</main>